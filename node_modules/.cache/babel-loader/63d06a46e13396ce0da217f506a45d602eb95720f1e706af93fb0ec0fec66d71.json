{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\agya_gupta\\\\Downloads\\\\trial\\\\client\\\\src\\\\Components\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CenteredContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #282c34;\n`;\n_c = CenteredContainer;\nconst Heading = styled.h1`\n  color: white;\n  font-size: 5rem;\n  text-align: center;\n`;\n_c2 = Heading;\nfunction Home() {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [user, setUser] = useState((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.user);\n  const [loading, setLoading] = useState(!user);\n  useEffect(() => {\n    if (!user) {\n      axios.get('http://localhost:3001/user', {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.user) {\n          setUser(response.data.user);\n        } else {\n          navigate(\"/login\");\n        }\n      }).catch(() => navigate(\"/login\")).finally(() => setLoading(false));\n    } else {\n      setLoading(false);\n    }\n  }, [user, navigate]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(CenteredContainer, {\n      children: /*#__PURE__*/_jsxDEV(Heading, {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(CenteredContainer, {\n    children: /*#__PURE__*/_jsxDEV(Heading, {\n      children: [\"Welcome Home \", user && user.name, \" !!!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"XNvpemDgzKSGIsKucMdGdRVr3JQ=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c3 = Home;\nexport default Home;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CenteredContainer\");\n$RefreshReg$(_c2, \"Heading\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","styled","jsxDEV","_jsxDEV","CenteredContainer","div","_c","Heading","h1","_c2","Home","_s","_location$state","location","navigate","user","setUser","state","loading","setLoading","get","withCredentials","then","response","data","catch","finally","children","fileName","_jsxFileName","lineNumber","columnNumber","name","_c3","$RefreshReg$"],"sources":["C:/Users/agya_gupta/Downloads/trial/client/src/Components/Home.js"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styled from \"styled-components\";\r\n\r\nconst CenteredContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background-color: #282c34;\r\n`;\r\n\r\nconst Heading = styled.h1`\r\n  color: white;\r\n  font-size: 5rem;\r\n  text-align: center;\r\n`;\r\n\r\nfunction Home() {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const [user, setUser] = useState(location.state?.user);\r\n    const [loading, setLoading] = useState(!user);\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            axios.get('http://localhost:3001/user', { withCredentials: true })\r\n                .then(response => {\r\n                    if (response.data.user) {\r\n                        setUser(response.data.user);\r\n                    } else {\r\n                        navigate(\"/login\");\r\n                    }\r\n                })\r\n                .catch(() => navigate(\"/login\"))\r\n                .finally(() => setLoading(false));\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, [user, navigate]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <CenteredContainer>\r\n                <Heading>Loading...</Heading>\r\n            </CenteredContainer>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <CenteredContainer>\r\n            <Heading>Welcome Home {user && user.name} !!!</Heading>\r\n        </CenteredContainer>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,iBAAiB,GAAGH,MAAM,CAACI,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GANIF,iBAAiB;AAQvB,MAAMG,OAAO,GAAGN,MAAM,CAACO,EAAE;AACzB;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,OAAO;AAMb,SAASG,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,eAAA;EACZ,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAMgB,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACgB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,EAAAgB,eAAA,GAACC,QAAQ,CAACI,KAAK,cAAAL,eAAA,uBAAdA,eAAA,CAAgBG,IAAI,CAAC;EACtD,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,CAACmB,IAAI,CAAC;EAE7ClB,SAAS,CAAC,MAAM;IACZ,IAAI,CAACkB,IAAI,EAAE;MACPf,KAAK,CAACoB,GAAG,CAAC,4BAA4B,EAAE;QAAEC,eAAe,EAAE;MAAK,CAAC,CAAC,CAC7DC,IAAI,CAACC,QAAQ,IAAI;QACd,IAAIA,QAAQ,CAACC,IAAI,CAACT,IAAI,EAAE;UACpBC,OAAO,CAACO,QAAQ,CAACC,IAAI,CAACT,IAAI,CAAC;QAC/B,CAAC,MAAM;UACHD,QAAQ,CAAC,QAAQ,CAAC;QACtB;MACJ,CAAC,CAAC,CACDW,KAAK,CAAC,MAAMX,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAC/BY,OAAO,CAAC,MAAMP,UAAU,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC,MAAM;MACHA,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACJ,IAAI,EAAED,QAAQ,CAAC,CAAC;EAEpB,IAAII,OAAO,EAAE;IACT,oBACIf,OAAA,CAACC,iBAAiB;MAAAuB,QAAA,eACdxB,OAAA,CAACI,OAAO;QAAAoB,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd,CAAC;EAE5B;EAEA,oBACI5B,OAAA,CAACC,iBAAiB;IAAAuB,QAAA,eACdxB,OAAA,CAACI,OAAO;MAAAoB,QAAA,GAAC,eAAa,EAACZ,IAAI,IAAIA,IAAI,CAACiB,IAAI,EAAC,MAAI;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxC,CAAC;AAE5B;AAACpB,EAAA,CApCQD,IAAI;EAAA,QACQZ,WAAW,EACXC,WAAW;AAAA;AAAAkC,GAAA,GAFvBvB,IAAI;AAsCb,eAAeA,IAAI;AAAC,IAAAJ,EAAA,EAAAG,GAAA,EAAAwB,GAAA;AAAAC,YAAA,CAAA5B,EAAA;AAAA4B,YAAA,CAAAzB,GAAA;AAAAyB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}